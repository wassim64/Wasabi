<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Visualisation des Genres Musicaux</title>
    <link rel="stylesheet" href="style.css">
    <script type="text/javascript" src="//d3js.org/d3.v5.min.js"></script>
</head>
<body>
    <div class="container">
        <h1>Réseau des Genres Musicaux</h1>
        
        <div class="description">
            <p>Cette visualisation montre les connexions entre les genres musicaux basées sur les artistes qui produisent dans plusieurs genres. 
            Un lien entre deux genres indique que des artistes ont créé des chansons dans ces deux genres.</p>
        </div>
        
        <div class="controls">
            <div class="filter-group">
                <label for="genreSelect">Genre central :</label>
                <select id="genreSelect"></select>
                
                <label for="depthRange">Profondeur :</label>
                <input type="range" id="depthRange" min="1" max="5" value="2">
                <span id="depthValue">2</span>
                
                <label for="minConnections">Connexions minimum :</label>
                <input type="range" id="minConnections" min="1" max="100" value="10">
                <span id="connectionsValue">10</span>
            </div>

            <div class="filter-group">
                <label for="minSongs">Nombre minimum de chansons :</label>
                <input type="number" id="minSongs" value="0" min="0">
                
                <label for="minArtists">Nombre minimum d'artistes :</label>
                <input type="number" id="minArtists" value="0" min="0">
            </div>

            <div class="filter-group">
                <label for="yearStart">Année début :</label>
                <input type="number" id="yearStart" min="1900" max="2024" value="2000">
                
                <label for="yearEnd">Année fin :</label>
                <input type="number" id="yearEnd" min="1900" max="2024" value="2020">
            </div>

            <div class="button-group">
                <button id="resetFilters">Réinitialiser les filtres</button>
                <button id="resetZoom">Réinitialiser le zoom</button>
            </div>
        </div>

        <div class="visualization-container">
            <div id="chart"></div>
            <div id="link-details-panel" class="link-details-panel">
                <h3>Détails de la connexion</h3>
                <div id="link-details-content">
                    <p class="empty-state">Cliquez sur un lien pour voir les détails</p>
                </div>
            </div>
        </div>
        
        <div class="legend">
            <p>Taille des nœuds : nombre de chansons</p>
            <p>Épaisseur des liens : force de la connexion</p>
        </div>

        <!-- menu contextuel pour les nœuds -->
        <div id="nodeContextMenu" class="context-menu">
            <div class="menu-item" id="focusNode">Se concentrer sur ce genre</div>
            <div class="menu-item" id="redirectBubble">Voir ses sous genres et/ou genres parents</div>
            <div class="menu-item" id="redirectWordcloud">Voir l'évolution dans le temps</div>
        </div>
    </div>
    <script src="genre_network.js"></script>
</body>
</html>