<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>√âvolution des Genres Musicaux ‚è≥</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://d3js.org/d3.v5.min.js"></script>
</head>
<body>
    <div class="container">
        <button id="backButton" class="back-button" onclick="goBack()">
            <span class="back-icon">‚óÑ</span>
            <span class="back-text">Retour √† la vue globale</span>
        </button>
        <h1>√âvolution des Genres Musicaux dans le Temps ‚è≥</h1>
        <h4>Karim CHARLEUX - SI5 FISA</h4>

        <div class="controls">
            <div class="control-group">
                <label>P√©riode :</label>
                <div class="time-range">
                    <input type="number" id="startYear" placeholder="Ann√©e d√©but">
                    <span>√†</span>
                    <input type="number" id="endYear" placeholder="Ann√©e fin">
                </div>
            </div>
            
            <div class="control-group">
                <label for="genreSelect">Genre :</label>
                <select id="genreSelect">
                    <option value="">Tous les genres</option>
                </select>
            </div>
            
            <div class="control-group">
                <label for="countrySelect">Pays :</label>
                <select id="countrySelect">
                    <option value="">Tous les pays</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Mode d'affichage :</label>
                <select id="displayMode">
                    <option value="count">Nombre de chansons</option>
                    <option value="rank">Popularit√© moyenne (Rank Deezer)</option>
                </select>
            </div>
            
            <div class="control-group">
                <label>Mode d'interaction :</label>
                <select id="interactionMode">
                    <option value="hover">Tooltip</option>
                    <option value="brush">Zoom Brush</option>
                </select>
            </div>
            
            <button id="resetFilters">R√©initialiser les filtres</button>
        </div>

        <div id="chart"></div>

        <div class="top-container">
            <div id="top5" class="top5-container">
                <h3 style="margin-top: 10px;">Top 5 des albums <span id="top5Year"></span></h3>
                <div id="top5List"></div>
            </div>
            <div id="top5Artists" class="top5-container">
                <h3 style="display: flex; justify-content: space-between; align-items: center;">
                    <span>Top 5 des artistes <span id="top5ArtistsYear"></span></span>
                    <button id="boxDiagramButton" class="box-diagram-button" onclick="goToBoxDiagram()">
                        <span class="diagram-icon">üìä</span>
                        <span class="diagram-text">Voir l'√©sp√©rance de vie</span>
                    </button>
                </h3>
                <div id="top5ArtistsList"></div>
            </div>
        </div>

        <div class="description">
            <h2>√Ä propos de cette visualisation</h2>
            
            <h3>üìä Le graphique principal</h3>
            <p>Ce graphique montre l'√©volution des genres musicaux dans le temps selon deux m√©triques :</p>
            <ul>
                <li><strong>Nombre de chansons :</strong> Affiche le nombre total de chansons par genre.</li>
                <li><strong>Popularit√© (Rank Deezer) :</strong> Affiche la popularit√© moyenne des chansons bas√©e sur le "rank" Deezer.
                    Le rank va de 0 √† 1 million, o√π 1 million repr√©sente la popularit√© maximale. Cette m√©trique est mise √† jour quotidiennement
                    en fonction des √©coutes des utilisateurs Deezer.</li>
            </ul>

            <h3>üéµ Les Top 5</h3>
            <ul>
                <li><strong>Top 5 des albums :</strong> Affiche les albums les plus populaires pour l'ann√©e s√©lectionn√©e, avec leur nombre de titres et leur pays d'origine. Le classement s'adapte selon le mode d'affichage choisi (nombre de chansons ou popularit√©).</li>
                <li><strong>Top 5 des artistes :</strong> Pr√©sente les artistes les plus influents de l'ann√©e s√©lectionn√©e, avec leur nombre total de titres et leur pays d'origine. Le classement √©volue √©galement en fonction du mode d'affichage.</li>
            </ul>

            <h3>üîç Les filtres disponibles</h3>
            <ul>
                <li><strong>P√©riode :</strong> Permet de zoomer sur une p√©riode sp√©cifique en d√©finissant une ann√©e de d√©but et de fin.</li>
                <li><strong>Genre :</strong> Filtre les donn√©es pour ne voir que l'√©volution d'un genre musical particulier.</li>
                <li><strong>Pays :</strong> Permet de filtrer les donn√©es par pays d'origine des artistes.</li>
            </ul>

            <h3>üñ±Ô∏è Les modes d'interaction</h3>
            <ul>
                <li><strong>Mode Tooltip :</strong> 
                    <ul>
                        <li>Passez la souris sur le graphique pour afficher une ligne verticale de r√©f√©rence</li>
                        <li>Les donn√©es d√©taill√©es de l'ann√©e s√©lectionn√©e s'affichent dans une infobulle</li>
                        <li>Les Top 5 se mettent √† jour automatiquement selon la position du curseur</li>
                    </ul>
                </li>
                <li><strong>Mode Zoom Brush :</strong>
                    <ul>
                        <li>Cliquez et faites glisser pour s√©lectionner une p√©riode sp√©cifique</li>
                        <li>Le graphique se met automatiquement √† l'√©chelle de la p√©riode s√©lectionn√©e</li>
                        <li>Double-cliquez n'importe o√π sur le graphique pour r√©initialiser le zoom</li>
                        <li>Les filtres de p√©riode sont automatiquement mis √† jour selon la s√©lection</li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>
    <script src="stacked-area-graph.js"></script>
</body>
</html>
